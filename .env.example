# ══════════════════════════════════════════════════════════════════════════════
# Singapore SMB Support AI Agent - Environment Variables
# ══════════════════════════════════════════════════════════════════════════════
#
# Copy this file to .env and fill in your actual values.
# Never commit .env to version control!

# ─────────────────────────────────────────────────────────────────────────────
# API Keys & LLM Configuration
# ─────────────────────────────────────────────────────────────────────────────
# Get your OpenRouter API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Optional: Direct OpenAI API key for embeddings
# Leave empty if using OpenRouter for everything
OPENAI_API_KEY=

# OpenRouter base URL (typically https://openrouter.ai/api/v1)
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# ─────────────────────────────────────────────────────────────────────────────
# Database Configuration
# ─────────────────────────────────────────────────────────────────────────────
POSTGRES_DB=support_agent
POSTGRES_USER=agent_user
POSTGRES_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql://agent_user:your_secure_password_here@localhost:5432/support_agent

# ─────────────────────────────────────────────────────────────────────────────
# Redis Configuration
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL=redis://localhost:6379

# ─────────────────────────────────────────────────────────────────────────────
# Qdrant Vector Database Configuration
# ─────────────────────────────────────────────────────────────────────────────
QDRANT_URL=http://localhost:6333

# ─────────────────────────────────────────────────────────────────────────────
# Security
# ─────────────────────────────────────────────────────────────────────────────
# Generate a secure secret key for JWT tokens
SECRET_KEY=generate-a-secure-random-string-here

# ─────────────────────────────────────────────────────────────────────────────
# Application Configuration
# ─────────────────────────────────────────────────────────────────────────────
ENVIRONMENT=development

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000

# ─────────────────────────────────────────────────────────────────────────────
# Business Context (Singapore)
# ─────────────────────────────────────────────────────────────────────────────
# Timezone: Asia/Singapore (default)
TIMEZONE=Asia/Singapore

# Business Hours (24-hour format)
BUSINESS_HOURS_START=09:00
BUSINESS_HOURS_END=18:00

# ─────────────────────────────────────────────────────────────────────────────
# PDPA Compliance Settings
# ─────────────────────────────────────────────────────────────────────────────
# Default data retention period in days
DATA_RETENTION_DAYS=30

# Session TTL in minutes
SESSION_TTL_MINUTES=30

# ─────────────────────────────────────────────────────────────────────────────
# RAG Configuration
# ─────────────────────────────────────────────────────────────────────────────
# Embedding model: text-embedding-3-small (1536 dimensions)
EMBEDDING_MODEL=text-embedding-3-small

# Reranker model: BAAI/bge-reranker-v2-m3 (local)
RERANKER_MODEL=BAAI/bge-reranker-v2-m3

# Chunking settings
CHUNK_SIZE=512
CHUNK_OVERLAP=50
CHUNK_SIMILARITY_THRESHOLD=0.5

# Retrieval settings
RETRIEVAL_TOP_K=50
RERANK_TOP_N=5
CONTEXT_TOKEN_BUDGET=4000

# ─────────────────────────────────────────────────────────────────────────────
# LLM Model Configuration (via OpenRouter)
# ─────────────────────────────────────────────────────────────────────────────
# Primary model for most queries
LLM_MODEL_PRIMARY=openai/gpt-4o-mini

# Fallback model for complex queries
LLM_MODEL_FALLBACK=openai/gpt-4o

# Temperature for response generation
LLM_TEMPERATURE=0.7

# ─────────────────────────────────────────────────────────────────────────────
# Performance & Scaling
# ─────────────────────────────────────────────────────────────────────────────
# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=100

# Request timeout in seconds
REQUEST_TIMEOUT=30

# ─────────────────────────────────────────────────────────────────────────────
# Feature Flags
# ─────────────────────────────────────────────────────────────────────────────
# Enable debug logging
DEBUG=false

# Enable RAG evaluation metrics
ENABLE_RAGAS_EVALUATION=false

# Enable sentiment analysis
ENABLE_SENTIMENT_ANALYSIS=true
